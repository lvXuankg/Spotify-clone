generator client {
  provider = "prisma-client"
  output   = "../../generated/prisma"
}

datasource db {
  provider = "postgresql"
  schemas  = ["storage_service"]
}

model media_files {
  id            String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  public_id     String    @db.VarChar(255)
  url           String
  resource_type String    @db.VarChar(20)
  format        String?   @db.VarChar(10)
  size_bytes    BigInt?
  uploaded_by   String    @db.Uuid
  created_at    DateTime? @default(now()) @db.Timestamptz(6)
  updated_at    DateTime? @default(now()) @db.Timestamptz(6)

  @@index([uploaded_by], map: "idx_media_files_uploader")
  @@schema("storage_service")
}
